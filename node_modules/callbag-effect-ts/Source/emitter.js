import * as Cause from "@effect/io/Cause";
import { isFailure } from "@effect/io/Exit";
export const emitter = (sink) => ({
    data: (a) => sink(1, a),
    end: () => sink(2, undefined),
    halt: (c) => sink(2, c),
    fail: (e) => sink(2, Cause.fail(e)),
    done: (exit) => {
        if (isFailure(exit)) {
            return sink(2, exit.cause);
        }
        sink(1, exit.value);
        sink(2, undefined);
    },
});
/**
 * Returns an emitter for an `EffectSink` that does not use the environment.
 */
export const emitterUnknown = (sink) => emitter(sink(undefined));
//# sourceMappingURL=emitter.js.map