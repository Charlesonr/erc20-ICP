import { NONE } from "../none.js";
export class Queue {
    capacity;
    elements = [];
    index = 0;
    size = 0;
    constructor(capacity) {
        this.capacity = capacity;
    }
    clear() {
        this.elements = [];
        this.index = 0;
        this.size = 0;
    }
    push(a) {
        if (this.capacity !== undefined && this.size >= this.capacity) {
            return;
        }
        this.elements.push(a);
        this.size++;
    }
    shift() {
        if (this.size === 0) {
            return NONE;
        }
        const index = this.index;
        const element = this.elements[index];
        this.elements[index] = undefined; // eslint-disable-line
        if (this.size === 1) {
            this.elements = [];
            this.index = 0;
            this.size = 0;
        }
        else {
            this.index = index + 1;
            this.size--;
        }
        return element;
    }
}
