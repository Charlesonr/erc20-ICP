import * as tsplus_module_1 from "dfx/common-gateway";
import * as tsplus_module_2 from "@effect/io/Effect";
import * as tsplus_module_3 from "@fp-ts/data/Option";
import * as tsplus_module_4 from "@effect/io/Ref";
import * as tsplus_module_5 from "dfx/common";
import * as tsplus_module_6 from "callbag-effect-ts/Source/tap";
import * as tsplus_module_7 from "callbag-effect-ts/Source/map";
import { opCode } from "./utils.js";
export const fromRaw = (raw, latestReady) => tsplus_module_7.map(() => tsplus_module_1.WS.Reconnect)(tsplus_module_6.tap((p) => (p.d ? tsplus_module_2.unit() : tsplus_module_4.set(tsplus_module_3.none)(latestReady)))(opCode(raw)(tsplus_module_5.Discord.GatewayOpcode.INVALID_SESSION)));
//# sourceMappingURL=invalidSession.js.map